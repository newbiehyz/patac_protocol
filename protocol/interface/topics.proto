syntax = "proto3";
import "common.proto";
package autodrive.workflow.proto;

enum MsgType {
  TOPICLIST = 0;
  SUBSCRIBR = 1;
}

message TopicRequestMsg {
  // Header
  MsgHeader header = 1;
  // Error
  Error error = 2;
  // service name
  string service = 3;
  // msg type
  MsgType msg_type = 4;
  // parameters: topic
  repeated string topics = 5;
  // param
  string param = 6;
}

message ProtoMap {
  string proto_name = 1;
  string proto_data = 2;
}

message TopicResponseMsg {
  // Header
  MsgHeader header = 1;
  // Error
  Error error = 2;
  // service name
  string service = 3;
  // msg type
  MsgType msg_type = 4;
  // topiclist: topic -> proto map
  map<string, ProtoMap> topiclist_result = 5;
  // subscribe: topic -> Whether the subscription is successful
  map<string, string> subscribe_result = 6;
}